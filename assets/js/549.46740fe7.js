(window.webpackJsonp=window.webpackJsonp||[]).push([[549],{879:function(s,t,a){"use strict";a.r(t);var e=a(4),n=Object(e.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"time"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#time"}},[s._v("#")]),s._v(" time")]),s._v(" "),t("p",[s._v("统计给定命令所花费的总时间")]),s._v(" "),t("h2",{attrs:{id:"补充说明"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#补充说明"}},[s._v("#")]),s._v(" 补充说明")]),s._v(" "),t("p",[t("code",[s._v("time")]),s._v(" 命令是用来确定一个给定的命令需要运行多长时间。它对于测试你的脚本和命令的性能很有用。")]),s._v(" "),t("p",[s._v("例如，如果你有两个不同的脚本在做同样的工作，你想知道哪一个表现得更好，你可以用 Linux 的时间命令来确定每个脚本的执行时间。")]),s._v(" "),t("p",[s._v("该指令是 shell 内指令，也是一个软件包，"),t("strong",[s._v("对于软件包的说明在这篇文档靠下的部分")])]),s._v(" "),t("h2",{attrs:{id:"语法"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#语法"}},[s._v("#")]),s._v(" 语法")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("time")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("指令"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h2",{attrs:{id:"参数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#参数"}},[s._v("#")]),s._v(" 参数")]),s._v(" "),t("p",[s._v("指令：指定需要运行的额指令及其参数。")]),s._v(" "),t("h2",{attrs:{id:"实例"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#实例"}},[s._v("#")]),s._v(" 实例")]),s._v(" "),t("p",[s._v("当测试一个程序或比较不同算法时，执行时间是非常重要的，一个好的算法应该是用时最短的。所有类UNIX系统都包含time命令，使用这个命令可以统计时间消耗。例如：")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("time")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v("\nanaconda-ks.cfg  install.log  install.log.syslog  satools  text\n\nreal    0m0.009s\nuser    0m0.002s\nsys     0m0.007s\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("p",[s._v("这里的输出会因为使用的发行版本不同而导致展示的结果不同，比如：")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Bash")]),s._v("\nreal 0m33.961s\nuser 0m0.340s\nsys 0m0.940s\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Zsh")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(".34s user "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(".94s system "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("% cpu "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("33.961")]),s._v(" total\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# GNU time (sh)")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(".34user "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(".94system "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":33.96elapsed "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("%CPU "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("0avgtext+0avgdata 6060maxresident"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("k\n0inputs+201456outputs "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("0major+315minor"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("pagefaults 0swaps\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br")])]),t("p",[t("code",[s._v("real")]),s._v(" 或者 "),t("code",[s._v("total")]),s._v(" 或者 "),t("code",[s._v("elapsed")]),s._v("（挂钟时间）是指从调用开始到结束的时间。它是指从你按下回车键的那一刻开始，到命令完成的那一刻为止的时间。\nuser - 在用户模式下花费的CPU时间。\nsystem 或 sys - 在内核模式下花费的CPU时间。")]),s._v(" "),t("h2",{attrs:{id:"软件包"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#软件包"}},[s._v("#")]),s._v(" 软件包")]),s._v(" "),t("p",[s._v("接下来的部分是关于 "),t("code",[s._v("time")]),s._v(" 软件包提供的 "),t("code",[s._v("/usr/bin/time")]),s._v(" 二进制可执行程序，而不是 shell 内建的 time 命令。")]),s._v(" "),t("h3",{attrs:{id:"软件包的语法"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#软件包的语法"}},[s._v("#")]),s._v(" 软件包的语法")]),s._v(" "),t("p",[s._v("一些 shells（例如 "),t("code",[s._v("bash")]),s._v(" ）有一个内置的 "),t("code",[s._v("time")]),s._v(" 命令，提供类似的关于时间和可能的其他资源的使用信息。")]),s._v(" "),t("p",[s._v("要访问真正的命令，可能需要指定其路径名（类似于"),t("code",[s._v("/usr/bin/time")]),s._v("）。")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("time")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("options"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("command")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("arguments"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("."),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"软件包指令参数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#软件包指令参数"}},[s._v("#")]),s._v(" 软件包指令参数")]),s._v(" "),t("p",[s._v("-f format, --format=format\n指定输出格式，可能覆盖环境变量TIME中指定的格式。\n-p, --portability\n使用可移植的输出格式。\n-o file, --output=file\n不将结果发送到stderr，而是覆盖指定的文件。\n-a, --append\n(与-o一起使用。)不覆盖而是附加。\n-v, --verbose\n对程序知道的所有信息进行非常详细的输出。\n-q, --quiet\n不报告异常的程序终止（当命令被信号终止时）或非零退出状态。")]),s._v(" "),t("h3",{attrs:{id:"软件包实例"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#软件包实例"}},[s._v("#")]),s._v(" 软件包实例")]),s._v(" "),t("p",[s._v("使用"),t("code",[s._v("-o")]),s._v("选项将执行时间写入到文件中：")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("/usr/bin/time "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-o")]),s._v(" outfile.txt "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("使用"),t("code",[s._v("-a")]),s._v("选项追加信息：")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("/usr/bin/time "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-a")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-o")]),s._v(" outfile.txt "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("使用"),t("code",[s._v("-f")]),s._v("选项格式化时间输出：")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("/usr/bin/time "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-f")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"time: %U"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("code",[s._v("-f")]),s._v("选项后的参数：")]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("参数")]),s._v(" "),t("th",[s._v("描述")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[t("code",[s._v("%E")])]),s._v(" "),t("td",[s._v("real时间，显示格式为[小时:]分钟:秒")])]),s._v(" "),t("tr",[t("td",[t("code",[s._v("%U")])]),s._v(" "),t("td",[s._v("user时间。")])]),s._v(" "),t("tr",[t("td",[t("code",[s._v("%S")])]),s._v(" "),t("td",[s._v("sys时间。")])]),s._v(" "),t("tr",[t("td",[t("code",[s._v("%C")])]),s._v(" "),t("td",[s._v("进行计时的命令名称和命令行参数。")])]),s._v(" "),t("tr",[t("td",[t("code",[s._v("%D")])]),s._v(" "),t("td",[s._v("进程非共享数据区域，以KB为单位。")])]),s._v(" "),t("tr",[t("td",[t("code",[s._v("%x")])]),s._v(" "),t("td",[s._v("命令退出状态。")])]),s._v(" "),t("tr",[t("td",[t("code",[s._v("%k")])]),s._v(" "),t("td",[s._v("进程接收到的信号数量。")])]),s._v(" "),t("tr",[t("td",[t("code",[s._v("%w")])]),s._v(" "),t("td",[s._v("进程被交换出主存的次数。")])]),s._v(" "),t("tr",[t("td",[t("code",[s._v("%Z")])]),s._v(" "),t("td",[s._v("系统的页面大小，这是一个系统常量，不用系统中常量值也不同。")])]),s._v(" "),t("tr",[t("td",[t("code",[s._v("%P")])]),s._v(" "),t("td",[s._v("进程所获取的CPU时间百分百，这个值等于 "),t("code",[s._v("user+system")]),s._v(" 时间除以总共的运行时间。")])]),s._v(" "),t("tr",[t("td",[t("code",[s._v("%K")])]),s._v(" "),t("td",[s._v("进程的平均总内存使用量（data+stack+text），单位是 "),t("code",[s._v("KB")]),s._v("。")])]),s._v(" "),t("tr",[t("td",[t("code",[s._v("%w")])]),s._v(" "),t("td",[s._v("进程主动进行上下文切换的次数，例如等待I/O操作完成。")])]),s._v(" "),t("tr",[t("td",[t("code",[s._v("%c")])]),s._v(" "),t("td",[s._v("进程被迫进行上下文切换的次数（由于时间片到期）。")])])])]),s._v(" "),t("h2",{attrs:{id:"参考资料"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#参考资料"}},[s._v("#")]),s._v(" 参考资料")]),s._v(" "),t("ul",[t("li",[s._v("Linux Time Command | Linuxize "),t("a",{attrs:{href:"https://linuxize.com/post/linux-time-command/",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://linuxize.com/post/linux-time-command/"),t("OutboundLink")],1)]),s._v(" "),t("li",[s._v("time(1) — Arch manual pages "),t("a",{attrs:{href:"https://man.archlinux.org/man/time.1",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://man.archlinux.org/man/time.1"),t("OutboundLink")],1)]),s._v(" "),t("li",[s._v("Time - ArchWiki "),t("a",{attrs:{href:"https://wiki.archlinux.org/title/time",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://wiki.archlinux.org/title/time"),t("OutboundLink")],1)])])])}),[],!1,null,null,null);t.default=n.exports}}]);