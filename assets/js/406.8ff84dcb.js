(window.webpackJsonp=window.webpackJsonp||[]).push([[406],{735:function(a,s,e){"use strict";e.r(s);var t=e(4),n=Object(t.a)({},(function(){var a=this,s=a._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"pkexec"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#pkexec"}},[a._v("#")]),a._v(" pkexec")]),a._v(" "),s("p",[a._v("以其他用户身份执行命令")]),a._v(" "),s("h2",{attrs:{id:"补充说明"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#补充说明"}},[a._v("#")]),a._v(" 补充说明")]),a._v(" "),s("p",[s("strong",[a._v("pkexec")]),a._v(" 允许授权用户以另一个用户的身份执行 PROGRAM。如果未指定\nPROGRAM，则将运行默认 shell。如果未指定用户名，则程序将以管理超级用户 root\n的身份执行。")]),a._v(" "),s("h3",{attrs:{id:"语法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#语法"}},[a._v("#")]),a._v(" 语法")]),a._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("pkexec "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("--version"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("--disable-internal-agent"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("--help"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\npkexec "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("--keep-cwd"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("--user username"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" PROGRAM "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("ARGUMENTS"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v("."),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br")])]),s("h3",{attrs:{id:"选项"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#选项"}},[a._v("#")]),a._v(" 选项")]),a._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("PROGRAM 运行的程序\nARGUMENTS"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v(". 传递给程序的参数\n\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--version")]),a._v(" 输出版本号然后退出\n--disable-internal-agent 避免将注册自己的文本身份验证代理\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--help")]),a._v(" 输出帮助文本然后退出\n--keep-cwd 运行位置，默认在 /home/"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("username"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("/\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--user")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("username"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" 需要运行的用户名\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br"),s("span",{staticClass:"line-number"},[a._v("8")]),s("br")])]),s("h3",{attrs:{id:"返回值"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#返回值"}},[a._v("#")]),a._v(" 返回值")]),a._v(" "),s("p",[a._v("成功完成后，返回值为 PROGRAM 的返回值。")]),a._v(" "),s("ul",[s("li",[s("code",[a._v("127")]),a._v(": 在未获得授权或者身份验证发生错误")]),a._v(" "),s("li",[s("code",[a._v("126")]),a._v(": 用户关闭身份验证对话框而无法获得授权")])]),a._v(" "),s("h3",{attrs:{id:"示例"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#示例"}},[a._v("#")]),a._v(" 示例")]),a._v(" "),s("ol",[s("li",[a._v("运行具有管理员权限的命令：")])]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("pkexec command\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("将 "),s("code",[a._v("command")]),a._v(" 替换为你要以管理员权限运行的命令。例如，"),s("code",[a._v("pkexec ls")]),a._v(" 将以管理员权限运行 "),s("code",[a._v("ls")]),a._v(" 命令。")]),a._v(" "),s("ol",{attrs:{start:"2"}},[s("li",[a._v("以图形界面运行具有管理员权限的命令：")])]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("pkexec env DISPLAY=$DISPLAY XAUTHORITY=$XAUTHORITY command\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("这个命令用于在图形界面中运行需要管理员权限的命令。将 "),s("code",[a._v("command")]),a._v(" 替换为你要以管理员权限运行的命令。")]),a._v(" "),s("ol",{attrs:{start:"3"}},[s("li",[a._v("运行具有特定身份验证代理的命令：")])]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("pkexec --user username command\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("将 "),s("code",[a._v("username")]),a._v(" 替换为你要作为哪个用户运行命令的用户名，将 "),s("code",[a._v("command")]),a._v(" 替换为你要运行的命令。")]),a._v(" "),s("ol",{attrs:{start:"4"}},[s("li",[a._v("查看 "),s("code",[a._v("pkexec")]),a._v(" 的帮助信息：")])]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("pkexec --help\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("这个命令将显示 "),s("code",[a._v("pkexec")]),a._v(" 的使用说明和选项列表。")]),a._v(" "),s("p",[a._v("请注意，使用 "),s("code",[a._v("pkexec")]),a._v(" 运行命令时，系统会提示你输入管理员密码进行身份验证。确保只在必要时使用 "),s("code",[a._v("pkexec")]),a._v(" 来运行需要管理员权限的命令，并小心谨慎地处理管理员权限。")]),a._v(" "),s("h3",{attrs:{id:"参考资料"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#参考资料"}},[a._v("#")]),a._v(" 参考资料")]),a._v(" "),s("ul",[s("li",[a._v("https://man.archlinux.org/man/pkexec.1.en")])])])}),[],!1,null,null,null);s.default=n.exports}}]);