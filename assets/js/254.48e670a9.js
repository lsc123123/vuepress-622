(window.webpackJsonp=window.webpackJsonp||[]).push([[254],{578:function(s,t,a){"use strict";a.r(t);var n=a(4),e=Object(n.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"iostat"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#iostat"}},[s._v("#")]),s._v(" iostat")]),s._v(" "),t("p",[s._v("监视系统输入输出设备和CPU的使用情况")]),s._v(" "),t("h2",{attrs:{id:"补充说明"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#补充说明"}},[s._v("#")]),s._v(" 补充说明")]),s._v(" "),t("p",[t("strong",[s._v("iostat命令")]),s._v(" 被用于监视系统输入输出设备和CPU的使用情况。它的特点是汇报磁盘活动统计情况，同时也会汇报出CPU使用情况。同vmstat一样，iostat也有一个弱点，就是它不能对某个进程进行深入分析，仅对系统的整体情况进行分析。")]),s._v(" "),t("h3",{attrs:{id:"语法"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#语法"}},[s._v("#")]),s._v(" 语法")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("iostat"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("选项"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("参数"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"选项"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#选项"}},[s._v("#")]),s._v(" 选项")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("-c：仅显示CPU使用情况；\n-d：仅显示设备利用率；\n-k：显示状态以千字节每秒为单位，而不使用块每秒；\n-m：显示状态以兆字节每秒为单位；\n-p：仅显示块设备和所有被使用的其他分区的状态；\n-t：显示每个报告产生时的时间；\n-V：显示版号并退出；\n-x：显示扩展状态。\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("h3",{attrs:{id:"参数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#参数"}},[s._v("#")]),s._v(" 参数")]),s._v(" "),t("ul",[t("li",[s._v("间隔时间：每次报告的间隔时间（秒）；")]),s._v(" "),t("li",[s._v("次数：显示报告的次数。")])]),s._v(" "),t("h3",{attrs:{id:"实例"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#实例"}},[s._v("#")]),s._v(" 实例")]),s._v(" "),t("p",[s._v("用"),t("code",[s._v("iostat -x /dev/sda1")]),s._v("来观看磁盘I/O的详细情况：")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("iostat "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-x")]),s._v(" /dev/sda1 \nLinux "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.6")]),s._v(".18-164.el5xen "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("localhost.localdomain"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2010")]),s._v("年03月26日  \n\navg-cpu:  %user   %nice %system %iowait \n%steal   %idle  \n            "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.11")]),s._v("    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.02")]),s._v("    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.18")]),s._v("    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.35")]),s._v("   \n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.03")]),s._v("    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("99.31")]),s._v("  \n\nDevice:         tps   Blk_read/s    Blk_wrtn/s  \nBlk_read   Blk_wrtn  \nsda1                "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.02")]),s._v("          "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.08")]),s._v("       \n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v("          "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2014")]),s._v("               "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" \n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br")])]),t("p",[s._v("详细说明：第二行是系统信息和监测时间，第三行和第四行显示CPU使用情况（具体内容和mpstat命令相同）。这里主要关注后面I/O输出的信息，如下所示：")]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("标示")]),s._v(" "),t("th",[s._v("说明")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[s._v("Device")]),s._v(" "),t("td",[s._v("监测设备名称")])]),s._v(" "),t("tr",[t("td",[s._v("rrqm/s")]),s._v(" "),t("td",[s._v("每秒需要读取需求的数量")])]),s._v(" "),t("tr",[t("td",[s._v("wrqm/s")]),s._v(" "),t("td",[s._v("每秒需要写入需求的数量")])]),s._v(" "),t("tr",[t("td",[s._v("r/s")]),s._v(" "),t("td",[s._v("每秒实际读取需求的数量")])]),s._v(" "),t("tr",[t("td",[s._v("w/s")]),s._v(" "),t("td",[s._v("每秒实际写入需求的数量")])]),s._v(" "),t("tr",[t("td",[s._v("rsec/s")]),s._v(" "),t("td",[s._v("每秒读取区段的数量")])]),s._v(" "),t("tr",[t("td",[s._v("wsec/s")]),s._v(" "),t("td",[s._v("每秒写入区段的数量")])]),s._v(" "),t("tr",[t("td",[s._v("rkB/s")]),s._v(" "),t("td",[s._v("每秒实际读取的大小，单位为KB")])]),s._v(" "),t("tr",[t("td",[s._v("wkB/s")]),s._v(" "),t("td",[s._v("每秒实际写入的大小，单位为KB")])]),s._v(" "),t("tr",[t("td",[s._v("avgrq-sz")]),s._v(" "),t("td",[s._v("需求的平均大小区段")])]),s._v(" "),t("tr",[t("td",[s._v("avgqu-sz")]),s._v(" "),t("td",[s._v("需求的平均队列长度")])]),s._v(" "),t("tr",[t("td",[s._v("await")]),s._v(" "),t("td",[s._v("等待I/O平均的时间（milliseconds）")])]),s._v(" "),t("tr",[t("td",[s._v("svctm")]),s._v(" "),t("td",[s._v("I/O需求完成的平均时间")])]),s._v(" "),t("tr",[t("td",[s._v("%util")]),s._v(" "),t("td",[s._v("设备带宽的使用率，达到100%表示饱和，达到性能瓶颈，如果是支持处理并发请求的设备则不代表性能瓶颈。")])])])])])}),[],!1,null,null,null);t.default=e.exports}}]);